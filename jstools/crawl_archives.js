const fetch = require("node-fetch");

const years = [
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
    '2021/01/15',
    '2020/01/12',
    '2020/01/01',
    '2020/11/12',
    '2019/08/15',
    '2021/01/11',
    '2021/01/12',
    '2021/01/13',
    '2021/01/14',
];

function randomDate(start, end) {
    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
}



const list_url = years.map( year => { return randomDate(new Date(2017, 0, 1), new Date()).toLocaleDateString('en-ZA') });
//const url = `https://webrf-test-archives-frontstaging.uzine.radiofrance.fr`;
//const url = `https://webrf-feat-archive-api-per-day-with-pagin-frontstaging.uzine.radiofrance.fr`;
//const url = `https://webrf-feat-wr-1449-archives-link-in-foote-frontstaging.uzine.radiofrance.fr`;
const url = `https://webrf-test-perf-archives-frontpreprod.uzine.radiofrance.fr`;


list_url.map(
    date => {
        fetch(`${url}/api/v1.5/archives?date=${date}`, 
        {"method": "GET",}).then(
            res => console.log(res.headers)
        );
      }
);